{"ast":null,"code":"import { create } from \"zustand\";\nimport axios from \"axios\";\nconst AdminOperations = create(_c = set => ({\n  admins: null,\n  createForm: {\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    type: \"\"\n  },\n  updateForm: {\n    _id: null,\n    title: \"\",\n    body: \"\"\n  },\n  fetchAdmins: async () => {\n    const res = await axios.get(\"http://localhost:4000/api/v1/admins\"); // Set to state\n\n    set({\n      admins: res.data.admins\n    });\n  },\n  updateCreateFormField: e => {\n    const {\n      name,\n      value\n    } = e.target;\n    set(state => {\n      return {\n        createForm: { ...state.createForm,\n          [name]: value\n        }\n      };\n    });\n  },\n  createAdmin: async e => {\n    e.preventDefault();\n    const {\n      createForm,\n      admins\n    } = AdminOperations.getState();\n    const res = await axios.post(\"http://localhost:4000/api/v1/registerAdmin\", createForm);\n    set({\n      admins: [...admins, res.data.admin],\n      createForm: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        password: \"\",\n        type: \"\"\n      }\n    });\n  },\n  deleteAdmin: async _id => {\n    // Delete the note\n    const res = await axios.delete(`http://localhost:4000/api/v1/admins/${_id}`);\n    const {\n      admins\n    } = AdminOperations.getState(); // Update state\n\n    const newAdmins = admins.filter(admin => {\n      return note._id !== _id;\n    });\n    set({\n      admins: newAdmins\n    });\n  },\n  handleUpdateFieldChange: e => {\n    const {\n      value,\n      name\n    } = e.target;\n    set(state => {\n      return {\n        updateForm: { ...state.updateForm,\n          [name]: value\n        }\n      };\n    });\n  },\n  toggleUpdate: _ref => {\n    let {\n      _id,\n      title,\n      body\n    } = _ref;\n    set({\n      updateForm: {\n        title,\n        body,\n        _id\n      }\n    });\n  },\n  updateNote: async e => {\n    e.preventDefault();\n    const {\n      updateForm: {\n        title,\n        body,\n        _id\n      },\n      admins\n    } = AdminOperations.getState(); // Send the update request\n\n    const res = await axios.put(`http://localhost:4000/api/v1/admins/${_id}`, {\n      title,\n      body\n    }); // Update state\n\n    const newAdmins = [...admins];\n    const noteIndex = admins.findIndex(admin => {\n      return admin._id === _id;\n    });\n    newAdmins[noteIndex] = res.data.note;\n    set({\n      admins: newAdmins,\n      updateForm: {\n        _id: null,\n        title: \"\",\n        body: \"\"\n      }\n    });\n  }\n}));\n_c2 = AdminOperations;\nexport default AdminOperations;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AdminOperations$create\");\n$RefreshReg$(_c2, \"AdminOperations\");","map":{"version":3,"names":["create","axios","AdminOperations","set","admins","createForm","name","email","phone","password","type","updateForm","_id","title","body","fetchAdmins","res","get","data","updateCreateFormField","e","value","target","state","createAdmin","preventDefault","getState","post","admin","deleteAdmin","delete","newAdmins","filter","note","handleUpdateFieldChange","toggleUpdate","updateNote","put","noteIndex","findIndex"],"sources":["/Applications/Applier/Untitled/client/src/context/AdminOperations.js"],"sourcesContent":["import { create } from \"zustand\";\nimport axios from \"axios\";\n\nconst AdminOperations = create((set) => ({\n  admins: null,\n\n  createForm: {\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    type: \"\",\n  },\n\n  updateForm: {\n    _id: null,\n    title: \"\",\n    body: \"\",\n  },\n\n  fetchAdmins: async () => {\n    const res = await axios.get(\"http://localhost:4000/api/v1/admins\");\n\n    // Set to state\n    set({ admins: res.data.admins });\n  },\n\n  updateCreateFormField: (e) => {\n    const { name, value } = e.target;\n\n    set((state) => {\n      return {\n        createForm: {\n          ...state.createForm,\n          [name]: value,\n        },\n      };\n    });\n  },\n\n  createAdmin: async (e) => {\n    e.preventDefault();\n\n    const { createForm, admins } = AdminOperations.getState();\n    const res = await axios.post(\"http://localhost:4000/api/v1/registerAdmin\", createForm);\n\n    set({\n      admins: [...admins, res.data.admin],\n      createForm: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        password: \"\",\n        type: \"\",\n      },\n    });\n  },\n\n  deleteAdmin: async (_id) => {\n    // Delete the note\n    const res = await axios.delete(`http://localhost:4000/api/v1/admins/${_id}`);\n    const { admins } = AdminOperations.getState();\n\n    // Update state\n    const newAdmins = admins.filter((admin) => {\n      return note._id !== _id;\n    });\n\n    set({ admins: newAdmins });\n  },\n\n  handleUpdateFieldChange: (e) => {\n    const { value, name } = e.target;\n\n    set((state) => {\n      return {\n        updateForm: {\n          ...state.updateForm,\n          [name]: value,\n        },\n      };\n    });\n  },\n\n  toggleUpdate: ({ _id, title, body }) => {\n    set({\n      updateForm: {\n        title,\n        body,\n        _id,\n      },\n    });\n  },\n\n  updateNote: async (e) => {\n    e.preventDefault();\n\n    const {\n      updateForm: { title, body, _id },\n      admins,\n    } = AdminOperations.getState();\n\n    // Send the update request\n    const res = await axios.put(`http://localhost:4000/api/v1/admins/${_id}`, {\n      title,\n      body,\n    });\n\n    // Update state\n    const newAdmins = [...admins];\n    const noteIndex = admins.findIndex((admin) => {\n      return admin._id === _id;\n    });\n    newAdmins[noteIndex] = res.data.note;\n\n    set({\n      admins: newAdmins,\n      updateForm: {\n        _id: null,\n        title: \"\",\n        body: \"\",\n      },\n    });\n  },\n}));\n\nexport default AdminOperations;"],"mappings":"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"},"metadata":{},"sourceType":"module"}