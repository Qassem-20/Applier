{"ast":null,"code":"var _jsxFileName = \"/Applications/Applier/Applier/client/src/pages/medicalStudent/feedBackMedical.jsx\",\n    _s = $RefreshSig$();\n\nimport \"../../assets/css/feedback.css\";\nimport MedicalNav from \"../../components/Nav/medicalStudentNav\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FeedBackMedical = () => {\n  _s();\n\n  const [reviews, setReviews] = useState([]);\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        const response = await axios.get(\"/api/v1/medicalReviews\", {\n          withCredentials: true\n        });\n        setReviews(response.data.reviews);\n      } catch (error) {\n        console.error(error); // TODO: Handle errors\n      }\n    };\n\n    fetchReviews();\n  }, []);\n\n  const handleReport = async reviewId => {\n    try {\n      const reviewToUpdate = reviews.find(review => review._id === reviewId);\n\n      if (reviewToUpdate) {\n        const isReported = reviewToUpdate.isReported === \"yes\" ? \"no\" : \"yes\";\n        const response = await axios.put(`/api/v1/medicalStudents/reportReview/${reviewId}`, {\n          isReported\n        }, {\n          withCredentials: true\n        });\n        console.log(response.data);\n        const updatedReviews = reviews.map(review => {\n          if (review._id === reviewId) {\n            return { ...review,\n              isReported\n            };\n          }\n\n          return review;\n        });\n        setReviews(updatedReviews);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MedicalNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Feedback\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), reviews.map(review => /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-4 rounded bg-white border border-dark p-2\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"rounded p-5\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 7,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"pt-5\",\n            children: review.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"m-auto\",\n          sm: 2,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleReport(review._id),\n              className: `btn ${review.isReported === \"yes\" ? \"btn-danger\" : \"btn-success\"}`,\n              children: review.isReported === \"yes\" ? \"Reported\" : \"Not Reported\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [review.rate, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2B50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, review._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FeedBackMedical, \"FPrwLLWcZBXrtWYcIRYMKBd2Ocw=\");\n\n_c = FeedBackMedical;\nexport default FeedBackMedical;\n\nvar _c;\n\n$RefreshReg$(_c, \"FeedBackMedical\");","map":{"version":3,"names":["MedicalNav","React","Fragment","useState","useEffect","Container","Row","Col","axios","FeedBackMedical","reviews","setReviews","fetchReviews","response","get","withCredentials","data","error","console","handleReport","reviewId","reviewToUpdate","find","review","_id","isReported","put","log","updatedReviews","map","description","rate"],"sources":["/Applications/Applier/Applier/client/src/pages/medicalStudent/feedBackMedical.jsx"],"sourcesContent":["import \"../../assets/css/feedback.css\";\nimport MedicalNav from \"../../components/Nav/medicalStudentNav\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst FeedBackMedical = () => {\n  const [reviews, setReviews] = useState([]);\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        const response = await axios.get(\"/api/v1/medicalReviews\", {\n          withCredentials: true,\n        });\n        setReviews(response.data.reviews);\n      } catch (error) {\n        console.error(error);\n        // TODO: Handle errors\n      }\n    };\n    fetchReviews();\n  }, []);\n\n  const handleReport = async (reviewId) => {\n    try {\n      const reviewToUpdate = reviews.find((review) => review._id === reviewId);\n      if (reviewToUpdate) {\n        const isReported = reviewToUpdate.isReported === \"yes\" ? \"no\" : \"yes\";\n        const response = await axios.put(\n          `/api/v1/medicalStudents/reportReview/${reviewId}`,\n          { isReported },\n          { withCredentials: true }\n        );\n        console.log(response.data);\n        const updatedReviews = reviews.map((review) => {\n          if (review._id === reviewId) {\n            return {\n              ...review,\n              isReported,\n            };\n          }\n          return review;\n        });\n        setReviews(updatedReviews);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return (\n    <Fragment>\n      <MedicalNav />\n      <Container className=\"mt-5\">\n        <Row>\n          <Col sm={6}>\n            <h1>Feedback</h1>\n          </Col>\n        </Row>\n      </Container>\n      {reviews.map((review) => (\n        <Container\n          className=\"mt-4 rounded bg-white border border-dark p-2\"\n          key={review._id}\n        >\n          <Row className=\"rounded p-5\">\n            <Col sm={7}>\n              <p className=\"pt-5\">{review.description}</p>\n            </Col>\n            <Col className=\"m-auto\" sm={2}>\n              <div>\n                <button\n                  onClick={() => handleReport(review._id)}\n                  className={`btn ${\n                    review.isReported === \"yes\" ? \"btn-danger\" : \"btn-success\"\n                  }`}\n                >\n                  {review.isReported === \"yes\" ? \"Reported\" : \"Not Reported\"}\n                </button>\n              </div>\n              <span>\n                {review.rate} <span>&#11088;</span>\n              </span>\n            </Col>\n          </Row>\n        </Container>\n      ))}\n    </Fragment>\n  );\n};\n\nexport default FeedBackMedical;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}