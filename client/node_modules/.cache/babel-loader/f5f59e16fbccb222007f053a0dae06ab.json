{"ast":null,"code":"import { create } from \"zustand\";\nimport axios from \"axios\";\nconst TraineeApplicationStore = create(_c = set => ({\n  traineeApplications: null,\n  fetchTraineeApplications: async () => {\n    // Fetch the traineeApplications\n    const res = await axios.get(\"/api/v1/applications\"); // Set to state\n\n    set({\n      traineeApplications: res.data.traineeApplications\n    });\n  },\n  deleteTraineeApplication: async _id => {\n    try {\n      await axios.delete(\"/api/v1/applications/\" + _id, {\n        withCredentials: true\n      });\n      window.location.reload();\n    } catch (error) {\n      console.error(error); // handle error here\n    }\n  },\n  updateStatue: {\n    _id: null,\n    university: \"\",\n    major: \"\",\n    gpa: \"\",\n    degree: \"\",\n    concentrated_major: \"\",\n    skills: \"\",\n    linkedIn_profile: \"\",\n    experience: \"\"\n  },\n  updateTraineeApplication: async e => {\n    e.preventDefault();\n    const {\n      updateStatue: {\n        university,\n        major,\n        gpa,\n        degree,\n        concentrated_major,\n        skills,\n        linkedIn_profile,\n        experience,\n        _id\n      },\n      traineeApplications\n    } = TraineeApplicationStore.getState(); // Send the update request\n\n    const res = await axios.put(`/api/v1/traineeApplications/${_id}`, {\n      university,\n      major,\n      gpa,\n      degree,\n      concentrated_major,\n      skills,\n      linkedIn_profile,\n      experience\n    }, {\n      withCredentials: true\n    }); // Update state\n\n    const newTraineeApplications = [...traineeApplications];\n    const traineeApplicationIndex = traineeApplications.findIndex(traineeApplication => {\n      return traineeApplication._id === _id;\n    });\n    newTraineeApplications[traineeApplicationIndex] = res.data.traineeApplication;\n    set({\n      traineeApplications: newTraineeApplications,\n      updateType: {\n        _id: null,\n        statue: \"\"\n      }\n    });\n  },\n  values: {\n    statue: \"\"\n  },\n  registerTraineeApplication: async () => {\n    const {\n      values\n    } = TraineeApplicationStore.getState(); // add traineeApplication\n\n    await axios.post(\"/api/v1/traineeApplications/registerTraineeApplications\", values, {\n      withCredentials: true\n    });\n    set({\n      values: {\n        statue: \"\"\n      }\n    });\n  },\n  handleChange: async e => {\n    const {\n      name,\n      value\n    } = e.target;\n    set(state => {\n      return {\n        values: { ...state.values,\n          [name]: value\n        }\n      };\n    });\n  }\n}));\n_c2 = TraineeApplicationStore;\nexport default TraineeApplicationStore;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TraineeApplicationStore$create\");\n$RefreshReg$(_c2, \"TraineeApplicationStore\");","map":{"version":3,"names":["create","axios","TraineeApplicationStore","set","traineeApplications","fetchTraineeApplications","res","get","data","deleteTraineeApplication","_id","delete","withCredentials","window","location","reload","error","console","updateStatue","university","major","gpa","degree","concentrated_major","skills","linkedIn_profile","experience","updateTraineeApplication","e","preventDefault","getState","put","newTraineeApplications","traineeApplicationIndex","findIndex","traineeApplication","updateType","statue","values","registerTraineeApplication","post","handleChange","name","value","target","state"],"sources":["/Applications/Applier/Applier/client/src/stores/traineeApplicationStore.js"],"sourcesContent":["import { create } from \"zustand\";\nimport axios from \"axios\";\n\nconst TraineeApplicationStore = create((set) => ({\n  traineeApplications: null,\n\n  fetchTraineeApplications: async () => {\n    // Fetch the traineeApplications\n    const res = await axios.get(\"/api/v1/applications\");\n    // Set to state\n    set({ traineeApplications: res.data.traineeApplications });\n  },\n\n  deleteTraineeApplication: async (_id) => {\n    try {\n      await axios.delete(\"/api/v1/applications/\" + _id, {\n        withCredentials: true,\n      });\n      window.location.reload();\n    } catch (error) {\n      console.error(error);\n      // handle error here\n    }\n  },\n\n  updateStatue: {\n    _id: null,\n    university: \"\",\n    major: \"\",\n    gpa: \"\",\n    degree: \"\",\n    concentrated_major: \"\",\n    skills: \"\",\n\n    linkedIn_profile: \"\",\n    experience: \"\",\n  },\n\n  updateTraineeApplication: async (e) => {\n    e.preventDefault();\n\n    const {\n      updateStatue: {\n        university,\n        major,\n        gpa,\n        degree,\n        concentrated_major,\n        skills,\n        linkedIn_profile,\n        experience,\n        _id,\n      },\n      traineeApplications,\n    } = TraineeApplicationStore.getState();\n\n    // Send the update request\n    const res = await axios.put(\n      `/api/v1/traineeApplications/${_id}`,\n      {\n        university,\n        major,\n        gpa,\n        degree,\n        concentrated_major,\n        skills,\n\n        linkedIn_profile,\n        experience,\n      },\n      { withCredentials: true }\n    );\n\n    // Update state\n    const newTraineeApplications = [...traineeApplications];\n    const traineeApplicationIndex = traineeApplications.findIndex(\n      (traineeApplication) => {\n        return traineeApplication._id === _id;\n      }\n    );\n    newTraineeApplications[traineeApplicationIndex] =\n      res.data.traineeApplication;\n\n    set({\n      traineeApplications: newTraineeApplications,\n      updateType: {\n        _id: null,\n        statue: \"\",\n      },\n    });\n  },\n\n  values: {\n    statue: \"\",\n  },\n\n  registerTraineeApplication: async () => {\n    const { values } = TraineeApplicationStore.getState();\n\n    // add traineeApplication\n    await axios.post(\n      \"/api/v1/traineeApplications/registerTraineeApplications\",\n      values,\n      { withCredentials: true }\n    );\n    set({\n      values: {\n        statue: \"\",\n      },\n    });\n  },\n\n  handleChange: async (e) => {\n    const { name, value } = e.target;\n\n    set((state) => {\n      return {\n        values: {\n          ...state.values,\n          [name]: value,\n        },\n      };\n    });\n  },\n}));\n\nexport default TraineeApplicationStore;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}