{"ast":null,"code":"import { create } from \"zustand\";\nimport axios from \"axios\";\nconst AdminOperations = create(_c = set => ({\n  admins: null,\n  createForm: {\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    type: \"\"\n  },\n  updateForm: {\n    _id: null,\n    name: \"\",\n    body: \"\"\n  },\n  fetchAdmins: async () => {\n    const res = await axios.get(\"http://localhost:4000/api/v1/admins\"); // Set to state\n\n    set({\n      admins: res.data.admins\n    });\n  },\n  updateCreateFormField: e => {\n    const {\n      name,\n      value\n    } = e.target;\n    set(state => {\n      return {\n        createForm: { ...state.createForm,\n          [name]: value\n        }\n      };\n    });\n  },\n  createAdmin: async e => {\n    e.preventDefault();\n    const {\n      createForm,\n      admins\n    } = AdminOperations.getState();\n    const res = await axios.post(\"http://localhost:4000/api/v1/registerAdmin\", createForm);\n    set({\n      admins: [...admins, res.data.admin],\n      createForm: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        password: \"\",\n        type: \"\"\n      }\n    });\n  },\n  deleteAdmin: async _id => {\n    const res = await axios.delete(`http://localhost:4000/api/v1/admins/${_id}`);\n    const {\n      admins\n    } = AdminOperations.getState(); // Update state\n\n    const newAdmins = admins.filter(admin => {\n      return admin._id !== _id;\n    });\n    set({\n      admins: newAdmins\n    });\n  },\n  handleUpdateFieldChange: e => {\n    const {\n      value,\n      name\n    } = e.target;\n    set(state => {\n      return {\n        updateForm: { ...state.updateForm,\n          [name]: value\n        }\n      };\n    });\n  },\n  toggleUpdate: _ref => {\n    let {\n      _id,\n      name,\n      body\n    } = _ref;\n    set({\n      updateForm: {\n        name,\n        body,\n        _id\n      }\n    });\n  },\n  updateAdmin: async e => {\n    e.preventDefault();\n    const {\n      updateForm: {\n        name,\n        body,\n        _id\n      },\n      admins\n    } = AdminOperations.getState(); // Send the update request\n\n    const res = await axios.put(`http://localhost:4000/api/v1/admins/${_id}`, {\n      name,\n      body\n    }); // Update state\n\n    const newAdmins = [...admins];\n    const adminIndex = admins.findIndex(admin => {\n      return admin._id === _id;\n    });\n    newAdmins[adminIndex] = res.data.admin;\n    set({\n      admins: newAdmins,\n      updateForm: {\n        _id: null,\n        name: \"\",\n        body: \"\"\n      }\n    });\n  }\n}));\n_c2 = AdminOperations;\nexport default AdminOperations;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AdminOperations$create\");\n$RefreshReg$(_c2, \"AdminOperations\");","map":{"version":3,"names":["create","axios","AdminOperations","set","admins","createForm","name","email","phone","password","type","updateForm","_id","body","fetchAdmins","res","get","data","updateCreateFormField","e","value","target","state","createAdmin","preventDefault","getState","post","admin","deleteAdmin","delete","newAdmins","filter","handleUpdateFieldChange","toggleUpdate","updateAdmin","put","adminIndex","findIndex"],"sources":["/Applications/Applier/Untitled/client/src/context/AdminOperations.js"],"sourcesContent":["import { create } from \"zustand\";\nimport axios from \"axios\";\n\nconst AdminOperations = create((set) => ({\n  admins: null,\n\n  createForm: {\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    type: \"\",\n  },\n\n  updateForm: {\n    _id: null,\n    name: \"\",\n    body: \"\",\n  },\n\n  fetchAdmins: async () => {\n    const res = await axios.get(\"http://localhost:4000/api/v1/admins\");\n\n    // Set to state\n    set({ admins: res.data.admins });\n  },\n\n  updateCreateFormField: (e) => {\n    const { name, value } = e.target;\n\n    set((state) => {\n      return {\n        createForm: {\n          ...state.createForm,\n          [name]: value,\n        },\n      };\n    });\n  },\n\n  createAdmin: async (e) => {\n    e.preventDefault();\n\n    const { createForm, admins } = AdminOperations.getState();\n    const res = await axios.post(\"http://localhost:4000/api/v1/registerAdmin\", createForm);\n\n    set({\n      admins: [...admins, res.data.admin],\n      createForm: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        password: \"\",\n        type: \"\",\n      },\n    });\n  },\n\n  deleteAdmin: async (_id) => {\n    const res = await axios.delete(`http://localhost:4000/api/v1/admins/${_id}`);\n    const { admins } = AdminOperations.getState();\n\n    // Update state\n    const newAdmins = admins.filter((admin) => {\n      return admin._id !== _id;\n    });\n\n    set({ admins: newAdmins });\n  },\n\n  handleUpdateFieldChange: (e) => {\n    const { value, name } = e.target;\n\n    set((state) => {\n      return {\n        updateForm: {\n          ...state.updateForm,\n          [name]: value,\n        },\n      };\n    });\n  },\n\n  toggleUpdate: ({ _id, name, body }) => {\n    set({\n      updateForm: {\n        name,\n        body,\n        _id,\n      },\n    });\n  },\n\n  updateAdmin: async (e) => {\n    e.preventDefault();\n\n    const {\n      updateForm: { name, body, _id },\n      admins,\n    } = AdminOperations.getState();\n\n    // Send the update request\n    const res = await axios.put(`http://localhost:4000/api/v1/admins/${_id}`, {\n      name,\n      body,\n    });\n\n    // Update state\n    const newAdmins = [...admins];\n    const adminIndex = admins.findIndex((admin) => {\n      return admin._id === _id;\n    });\n    newAdmins[adminIndex] = res.data.admin;\n\n    set({\n      admins: newAdmins,\n      updateForm: {\n        _id: null,\n        name: \"\",\n        body: \"\",\n      },\n    });\n  },\n}));\n\nexport default AdminOperations;"],"mappings":"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"},"metadata":{},"sourceType":"module"}